# 시간

- 09:00 ~ 18:00 : 싸피
- 20:00 ~ 23:00 : 카카오 면접 준비
- 23:00 ~ 24:00 : 카프카 공부

# 간략 회고

### 카프카 공부

카프카의 enable.idempotence 멱등성 옵션에 대해 공부를 진행하였다.

이 공부를 진행한 이유는 현업자분으로부터 idempotence 옵션을 적용하면 성능이 느려지지 않을까요? 라는 물음을 굉장히 많이 받았기 때문이다.

이번에 기회에 해당 부분을 공부 진행하였다.

결론은 idempotence 옵션을 적용해도 성능이 그렇게 느려지지 않는다! 다만 조건이 있는데, max.in.flight 속성을 3이상 설정해야한다.

max.in.flight의 속성을 3이상 설정하면 ack=all 설정이 되어 있어도 성능이 그렇게 느려지지 않는다고 한다.

max.in.flight 속성은 5까지는 배치로 전송되는 메세지의 순서를 보장하기 때문에 메세지 순서까지 보장을 진행할 수 있다.

이러한 이유 때문에 카프카 3.0 부터 enable.idempotence 옵션의 기본값을 true로 한 것이 아닌가 추측해보았다.