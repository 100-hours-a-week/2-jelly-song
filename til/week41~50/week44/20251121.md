# 시간

- 09:00 ~ 18:00 : 싸피
- 20:00 ~ 22:00 : realMySQL

# 간략 회고

### Real MySQL

Real MySQL을 공부하였다. 면접 일정등이 끝나고 CS 공부할 시간이 생겨 미뤄두었던 DB 공부를 시작하게되었다.

보통 버퍼풀의 설정등을 80%로 설정하는데 그것보다는 50%에서 시작해서 점진적으로 올리는게 안정적이다. 라는 저자의 견해,

메모리가 8기가 미만이라면 50%로 설정하는게 좋다는 견해 등 많은 내용이 있었지만, 그중에서 데드락 감지 스레드가 가장 인상 깊었다.

MySQL에서는 데드락 감지 스레드가 동작하는데 이 스레드로 교착상태에 빠진 트랜잭션을 감지하고 언두 로그의 내용이 많지 않은 트랜잭션을 

강제 롤백 시킴으로써 이 현상을 해결한다. 그런데 이 데드락 감지 스레드는 데드락이 걸렸는지 확인하기 위해 잠금 목록 리스트에 잠금을 걸고

판단하게 되는데 동시 처리 스레드가 많다면 많은 cpu를 소모할 수 있다. 그럴 떄에는 데드락을 감지는 옵션을 끄고

wait_timeout 변수를 활성화하여 일정 시간동안 요청이 완료되지 않는다면 에러 메세지를 반환하도록 하여 데드락 현상을 막을 수 있다.

이걸 보면서 느낀점은 '인지' 단계가 중요한 부분중 하나라고 생각했다. 저번 프로젝트를 진행하면서 프로듀서에서 카프카로 send를 보낼 때

따로 log를 찍지 않았었다. 이 때, 현업 개발자 분께서 이러한 에러 부분의 경우 log를 찍는 것이 좋다는 피드백을 받은 적이 있었다.

나는 당시에 그런 log를 찍어야겠다는 생각 자체를 못하고 있었던 상태였는데 이처럼 몰는 것을 '인지' 자체를 하는 것이 중요하다고 생각했다.

이번 RealMySQL을 공부하면서 이처럼 만약에 성능이 느려진다면 저런 데드락 상황처럼 고려할 수 있는 부분이 늘어 '인지' 하는 영역이 늘려나가는 것이

개발 실력 향상에 도움이 될 것이라고 생각하였다.

