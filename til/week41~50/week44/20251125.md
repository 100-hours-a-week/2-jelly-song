# 시간

- 11:00 ~ 12:00 : 면접
- 13:00 ~ 18:00 : 싸피
- 21:00 ~ 22:00 : 운동
- 22:00 ~ 23:00 : RealMySQL

# 간략 회고

### RealMySQL

RealMySQL 중 트랜잭션 챕터를 들어가게 되었다. MyISAM에서는 트랜잭션이 보장되지 않고, InnoDB에서는 보장되며

그것을 Insert 쿼리를 실행하면서 눈으로 확인해 보는 작업 등을 진행했지만 그중에서도 트랜잭션을 언제 실행하고 끝내는 것이

좋은 지에 대한 부분에서 감명을 받는 부분이 있었다.

예를 들어, 로그인 여부 확인, 글쓰기 내용 오류 여부 확인, 입력 내용 DBMS 저장, 첨부 파일 정보 DBS 저장,

알림 메일 전송, 알림 메일 발송 이력 DBMS에 저장 이런 로직이 있다고 가정해보자.

이렇게 되어있는 경우 많은 개발자들이 초반에 커넥션을 열고 트랜잭션을 실행한다. 그리고 모든 일이 끝난 뒤 커밋 혹은

에러가 났을 경우 롤백을 진행한다. 그런데 이렇게 모든 작업을 한번에 트랜잭션으로 묶을 필요는 없다. 지금 보면

로그인 여부 확인, 글쓰기 내용 오류 여부 확인 등은 DB와는 관련이 없기 때문에 미리 커넥션을 맺을 필요가 없다.

따라서 입력 내용 DBMS 저장 전에 트랜잭션 작업을 실행하면되고 첨부 파일 정보 DBS 저장을하고 트랜잭션을 끝내면된다.

그리고 알림 메일 전송의 경우에는 서드 파티로 언제 끝날지 예측할 수 없다는 단점이 있다. 이 부분을 트랜잭션으로 묶게된다면

커넥션이 오랫동안 열려있을 수 있다는 단점이 있다 따라서 알림 메일 발송 이력 DBMS에 저장 로직 전에 트랜잭션을 열고

다시 발송 이력을 저장한 뒤 트랜잭션을 마치는 로직을 할 수 있다.

보통 스프링에서 비즈니스 로직을 작성할 때 기능마다 쪼개고 그를 Transactional로 묶는 경우가 많았는데 여기에서 그것이

효과를 발휘할 수 있겠구나 라는 생각하였다. 당시에는 유지보수성의 증대가 가장 큰 장점으로 생각하였는데 그것 말고도 이렇게 성능상의

이점도 생기겠구나 라는 깨달음을 얻었다.