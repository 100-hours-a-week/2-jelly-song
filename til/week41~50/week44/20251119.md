# 시간

- 09:00 ~ 18:00 : 싸피
- 20:00 ~ 22:00 : 기업 조사
- 22:00 ~ 23:00 : 프로젝트 고도화 (복기)

# 간략 회고

### 프로젝트 고도화 (복기)

진행했었던 프로젝트를 살펴보면서, 더 고도화할 부분은 없었는지, 더 배울점은 없는지 찾아보는 시간을 가졌다.

스펙랭킹 프로젝트에 대해서 진행했었는데, 오류났을 떄의 재처리에 대해서 정리를 해보았다.

우선 기본적으로 오류가 났을 경우에는 트랜잭션으로 복구를 해주어야한다. 그리고 만약 마이크로 서비스 처럼 디비가 나누어진 상황이라면 분산 트랜잭션을 적용

해야한다. 그리고 나서는 롤백을 한 것으로 끝나는 것이 아니라, 만약에 재시도해서 다시 성공할 수 있는 경우에는 재시도 처리를 해주어 사용자 경험을

증대시켜야한다. 또한 재시도를 한다면 멱등성이 깨질 수 있는 이슈가 생길 수 있다. 예를 들어, 카프카에 대한 재시도의 경우 네트워크 오류로 카프카의 

ack을 받지 못해 프로듀서가 카프카로 다시 이벤트를 보내는 상황이 발생할 수 있는데 이때에는 컨슈머에서 멱등성 처리를 해주어야한다.

그리고 만약 재시도를 했는데에도 실패한 것에대해서는 log를 찍거나 DLQ에 해당 이벤트를 넣는 등, 추가 조치로 해당 오류를 파악하고 처리 해주어야한다.

자동으로 처리하고 싶다면 백오프를 사용할 수 있다. DLQ에 넣어져 있는것을 소비하는 컨슈머를 만들고 에러가 난지 5초 있다가 재시도, 30초 있다가 재시도,

5분 있다가 재시도 하는 형식으로 개발도 가능하다 만약 그래도 재시도가 실패한다면 알림을 받고 개발자가 나서는 방식을 생각해볼 수 있다.