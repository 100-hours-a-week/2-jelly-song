# 시간

- 10:00 ~ 12:00 : 신세계 아이앤씨 자소서 마무리
- 13:00 ~ 20:00 : 추석. 가족들과 시간
- 20:00 ~ 24:00 : 개발 선배 만남
- 24:00 ~ 01:00 : MySQL 동시성

# 간략 회고

### MySQL 동시성

대규모 트래픽 인강을 복습하던 와중. MySQL에서 격리 수준, 버퍼풀 undo, 공유락 배타락간의 관계가 

명확히 그려지지 않아 이부분을 탐구하였다.

우선 공유락 배타락 먼저 살펴보면 SELECT의 경우 Serializable에 대해서만 공유락을 걸고 나머지 격리 수준에 대해서는 락을 걸지 않는다.

UPDATE, INSERT, DELETE의 경우 모든 격리 수준에 대해서 배타락을 건다.

그러면 Serializable의 경우 SELECT는 공유 락, 나머지는 배타 락이 걸리는 것이니 결국 정합성이 맞다는 것은 확실하고

read uncommitted의 경우 SELECT가 락을 걸지 않기 떄문에 배타락이 걸려도 바로 데이터를 가져온다는 것을 알 수 있다.

read committed의 경우 여기서 한 단계가 추가된다. 만약 버퍼풀에서 해당 부분이 커밋되지 않았다는게 확인되면 undo 로그에서 커밋된

데이터를 SELECT해서 가져온다.

repeatable read의 경우에는 여기에서 트랜잭션 id까지 활용하는데 만약 커밋된 것이 SELECT가 진행되고 있는 트랜잭션 ID보다 뒤에 커밋된 것이라면

반복된 읽기가 깨질 수 있기 떄문에 그 부분은 무시하고 진행되고 있는 트랜잭션 ID보다 전의 커밋된 데이터를 가져와서 반복 가능한 읽기를 가능하게 해준다.