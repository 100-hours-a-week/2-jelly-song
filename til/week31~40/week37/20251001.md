# 시간

- 09:00 ~ 18:00 : 싸피
- 20:00 ~ 21:00 : 대규모 트래픽 공부
- 21:00 ~ 22:00 : CS 공부
- 22:00 ~ 24:00 : 코테 구현 문제 풀이

# 간략 회고

### 대규모 트래픽 공부

저번에 대규모 트래픽에 관해 인프런 강의를 수강하였는데,

그 부분에 대해서 복습을 진행하고 있다.

저번에 MSA에 이어서 샤딩에 대해서 공부를 하게 되었는데

제일 인상 깊었던 부분은 물리적 샤딩과 논리적 샤딩이다.

저번 프로젝트 때 샤딩 도입을 고려했지만 샤딩의 단점으로 한번 구축하면 스케일 아웃 하기가

쉽지가 않아 서비스를 진행하다 정말 필요한 시기가 오면 그때 도입하기로 결정하였었다.

그런데 이 논리적 샤딩 기법을 이용하면 현재 필요하지 않아도 미리 "논리적"으로 샤딩을 구축함으로써

확장성 있게 설계할 수 있었다.

아직은 샤딩을 할 정도의 DB 트래픽이 있지 않다고 가정하자

그리고 DB 샤드가 2개가 구축되어 있는 상태라 가정하자.

그때 물리적 샤드는 2개가 있지만 논리적으로 500개가 있다고 가정하고 어플리케이션 단에서 로직을 짤 수 있다.

그리고 중간 계층으로써 라우터를 구축하고

해당 라우터가 논리적으로 500개의 샤드로 작성한 어플리케이션에서

1~250의 경우 샤드 1로 251~500의 경우 샤드 2로 라우팅 함으로써 이를 처리할 수 있는 것이다.

만약에 샤드를 4개로 늘린다면

1 ~ 125, 126 ~ 250, 251~375, 375~500 부분으로 라우팅을 샤드 1,2,3,4로 라우팅 되게 바꾸기만 한다면

어플리케이션에서는 500개의 샤드라고 가정한 부분은 바뀌지 않고 자연스럽게

샤드를 2개에서 4개로 확장성 있게 구축할 수 있게 된다.