# 시간

- 09:00 ~ 18:00 : 싸피
- 18:00 ~ 21:00 : 싸피 회식
- 23:00 ~ 24:00 : CS 공부

# 간략 회고

### CS 공부

CS 공부는 계속 해서 진행하고 있다.

요즘 시간이 없다는 걸 느끼는데 싸피에서 배우는 것은 당일 오후 6시 까지 "복습하지 않아도 될 만큼 완벽하게" 끝내고

집에서 12시나 1시까지 개인 공부를 하는 식으로 시간을 확보해야 겠다는 생각을 하였다.

각설하고, CS 공부 중 가장 인상 깊었던 부분은 이벤트 기반 아키텍처이다.

물론 저번 프로젝트 때 이벤트 기반 아키텍처를 구축한 경험이 있지만 이번 기회를 통해 더 개념을 단단히 할 수 있었다.

이벤트 기반 아키텍처는 왜 쓰는걸까? 분산 환경에서 롤백을 이벤트 기반으로 하기 위해서? MSA를 구축하기 위해서? 좀 더 객체 지향적으로 짜기 위해서?

물론 위 3가지 경우는 이벤트 기반 아키텍처를 사용한다면 얻을 수 있는 장점이지만 "본질"은 커플링을 느슨하게 하기 위해서 이다.

예를 들어 보자

주문을 생성했을때, 쿠폰을 발급해야하고, 결제를 해야하고, 배달을 해야한다.

그러면 주문 서비스는 쿠폰, 결제, 배달에 대해 기존코드로는 "강한 결합"이 나타나게 된다.

이를 중간 브로커에 주문이 생성되었다! 라는 이벤트만 넣어주고 알아서 다른 서비스가 하겠거니하고 주문 서비스는 그냥 자신의 일만 하면된다.

쿠폰, 결제, 배달에 대해서 신경쓰지 않아도 되어 결합이 느슨해진 것이다.

그럼 쿠폰 결제 배달 서비스는 그 이벤트를 보고 자신의 일을 하면된다.

이것을 유념해 두어야 하는게 이벤트를 주문 완료 이벤트가 아니라 쿠폰 생성, 결제 생성, 배달 생성 이벤트를 넣는다고 가정해보자.

그러면 주문 생성 서비스가 이벤트를 브로커에 넣은 건 맞지만 쿠폰, 결제, 배달에 결합된 이벤트를 넣은 것이다.

비동기 같은 성능적 이점은 얻을 수 있겠지만 "본질적으로" 이벤트 기반 아키텍처의 장점을 가져오지 못한다.

따라서 단순히 주문 생성 이벤트만 브로커에 넣는 것이 이벤트 기반 아키텍처에 맞는 설계이다.